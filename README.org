#+TITLE: Env analyzer
#+AUTHOR: GTrunSec
#+EMAIL: gtrunsec@hardenedlinux.org
#+DATE: 22 April 2020
#+OPTIONS:   H:3 num:t toc:t \n:nil @:t ::t |:t ^:nil -:t f:t *:t <:t


* Quickly run

- get devshell env

#+begin_src sh :async t :exports both :results output
nix develop or nix-shell
#+end_src


#+begin_src sh :async t :exports both :results output
nix develop .#jupyterWith-env --impure --command -- jupyter-lab --ip <Ip> --port <port> --config jupyter_notebook_config.py
#+end_src

- direnv allow

#+begin_src sh :async t :exports both :results output
direnv allow
jupyterWith-Env <ip> <port>
#+end_src

** Use Cachix
#+begin_src sh :async t :exports both :results output
cachix use gtrunsec
#+end_src

* Flake -> stack overflow issue
ulimit -s 100000 (default is 8192) before nix looks useful, to pass the test from the top issue
- https://github.com/NixOS/nixpkgs/issues/42379
#+begin_src sh :async t :exports both :results output
ulimit -s 100000
#+end_src
then:
#+begin_src sh :async t :exports both :results output
nix develop --impure -c jupyter-lab
#+end_src
